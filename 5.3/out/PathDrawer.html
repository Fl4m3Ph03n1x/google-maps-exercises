<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: PathDrawer</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: PathDrawer</h1>

    




<section>

<header>
    
        <h2>PathDrawer</h2>
        
            <div class="class-description">Responsible for recycling DirectionsRenderer objects, and calculating which routes are the most efficient.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    <h4 class="name" id="PathDrawer"><span class="type-signature"></span>new PathDrawer<span class="signature">(params)</span><span class="type-signature"></span></h4>

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>params</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The objetct with the parameters this instance will use. This object can have the following properties:
<ul>
 <li><code>map</code>, the map where this PathDrawer will draw the routes;</li>
 <li><code>pruneLevel</code>, which defines the prunning level of the PathDrawer;</li>
 <li><code>polylineOptions</code>, the object with the polyline styles for the routes. This object can contain up to 4 ojects for the four different types of routes supported:
     <ul>
         <li><code>fastest</code>, google.maps.PolylineOptions for the fastest route. The fastest route is the route that takes less time to complete;</li>
         <li><code>shortest</code>, google.maps.PolylineOptions for the shortest route. The shortest route is the smallest in terms of distance;</li>
         <li><code>best</code>, google.maps.PolylineOptions for the best route. The best route is both the fastest and the shortest at the same time;</li>
         <li><code>alternative</code>, google.maps.PolylineOptions for an alternative route. An alternative route is a route that is not the fastest,shortest or best route. It simply is an extra route one can take.</li>
     </ul>
     All these four objects belong to the polylneOptions object and are <b>optional</b>. If ay of the objects are not defined, the default value will be used.
 </li>
</ul>
All these parameters are <b>optional</b>. If they are missing, the library will instead use the default parameters.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://developers.google.com/maps/documentation/javascript/reference#PolylineOptions">google.maps.PolylineOptions</a></li>
        </ul>
    </dd>
    

    
</dl>















    <h5>Example</h5>
    
        <p class="code-caption">Creating a new PathDrawer instance</p>
    
    <pre class="prettyprint"><code> var pathDrawer = new PathDrawer({
     map: map,
     pruneLevel: PathDrawer.MODERATE_PRUNNING,
     polylineOptions: {
 	    fastest: {
             strokeColor: "red",
             geodesic: true,
             strokeOpacity: 0.7,
             strokeWeight: 3
         },
         shortest: {
             strokeColor: "green",
             geodesic: true,
             strokeOpacity: 0.7,
             strokeWeight: 3
         },
         best: {
             strokeColor: "violet",
             geodesic: true,
             strokeOpacity: 0.8,
             strokeWeight: 4
         },
         alternative: {
             strokeColor: "blue",
             geodesic: true,
             strokeOpacity: 0.7,
             strokeWeight: 2
         }
 	}
 });</code></pre>



    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li><a href="PrivateNameSpace.html">PrivateNameSpace</a></li>
    </ul>


    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".AGGRESSIVE_PRUNNING"><span class="type-signature">(static, readonly) </span>AGGRESSIVE_PRUNNING<span class="type-signature"></span></h4>




<div class="description">
    Ultimate level of prunning. In this level, the algorithm will always delete all the objects not being used, does not cache nor reuses anything. Only keeps in memory the objects being used.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line330">line 330</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".MODERATE_PRUNNING"><span class="type-signature">(static, readonly) </span>MODERATE_PRUNNING<span class="type-signature"></span></h4>




<div class="description">
    Moderate level of prunning. In this level the system trims to half the unused space, allowing for a balance between memory and speed. This way, when a bigger requets is made, the system only has to re-create less objects, and when a smaller request is made, it frees 50% of the memory being used to prepare for further requests.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line339">line 339</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".NO_PRUNNING"><span class="type-signature">(static, readonly) </span>NO_PRUNNING<span class="type-signature"></span></h4>




<div class="description">
    Lowest level of prunning. In this level, the system never frees or deletes objects, and will always keep them for future use. One should pay attention because if no prunning is ever done, the space in memory occupied will always be the space of the biggest request.
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line348">line 348</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="drawPaths"><span class="type-signature"></span>drawPaths<span class="signature">(result, areDraggable)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Receives the routes, calculates the shortest, fastest and best (the best route is both the shortest and fastest route at the same time. Prices and other factors are not considered) routes, and draws them in the map, with the recycling principles in mind.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>result</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">The result array returned from the request.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>areDraggable</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last">If the routes drawn should be draggable or not. if <code>true</code> they will be, if <code>false</code> they will not.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line168">line 168</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="getMap"><span class="type-signature"></span>getMap<span class="signature">()</span><span class="type-signature"> &rarr; {Map}</span></h4>

    



<div class="description">
    Returns the current map being tracked.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line321">line 321</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The map being currently tarcked by the library.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Map</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="getPruneLevel"><span class="type-signature"></span>getPruneLevel<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Returns and object with the current level of prunning and a description of that level.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line302">line 302</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    An object with the properties <code>level</code> (Number) that represents the current prunning level, and <code>description</code> with a text representation of the prunning level.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="hidePaths"><span class="type-signature"></span>hidePaths<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Hides all the paths. Does not delete nor change them.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line246">line 246</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="internal"><span class="type-signature"></span>internal<span class="signature">(object)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    



<div class="description">
    Keeps track of each object and its private variables.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">The object to track.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    
    <dt class="inherited-from">Inherited From:</dt>
    <dd class="inherited-from"><ul class="dummy"><li>
        <a href="PrivateNameSpace.html#internal">PrivateNameSpace#internal</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PrivateNameSpace.js.html">PrivateNameSpace.js</a>, <a href="PrivateNameSpace.js.html#line44">line 44</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    The tracked object with its private variables.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
        <p class="code-caption">Usage of internal from PrivateNameSpace</p>
    
    <pre class="prettyprint"><code> class Point extends PrivateNameSpace{
    
   constructor(x, y){
       super();     
       super.internal(this).x = x;
       super.internal(this).y = y;
   }
  
   //Repeat for y
   get getX(){
       return super.internal(this).x; 
   }

   //Repeat for y
   set setX(newX){
       super.internal(this).x = newX; 
   }
}</code></pre>



        
            

    

    <h4 class="name" id="prune"><span class="type-signature"></span>prune<span class="signature">(routesSize, pruneLevel)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Forces a pruning action. Shoud only be used if you feel that you want to save more memory and if know what you are doing. Advisable when using the NO_PRUNNING level, as this will be the only way to free the system for space. A good indicator to know when to use this method is to call it when we are drawing a small set of routes on the map after drawing a big set of routes. For example, if first you draw 50 routes, and then you draw 10, this is a good indicator that you should probably prune.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>routesSize</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">The size of the routes array we received from <code>result</code> object.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>pruneLevel</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last">The prune algorithm we wish to apply when prunning. Can be AGGRESSIVE_PRUNNING or MODERATE_PRUNNING.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line277">line 277</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://stackoverflow.com/a/6928247/1337392">StackOverflow efficient array trimming</a></li>
        </ul>
    </dd>
    

    
</dl>











<h5>Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc">
        The routeSize value is too big, meaning that the value is inconsistent and that the system has to allocate memory instead of freeing it.
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl>
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">InvalidArgumentError</span>


            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    





        
            

    

    <h4 class="name" id="reset"><span class="type-signature"></span>reset<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Resets the library, deletes all objects tracked, sets prunning back to AGGRESSIVE_PRUNNING mode and sets the polyline options back to default. The reference to the map <b>is</b> maintained.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line264">line 264</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setMap"><span class="type-signature"></span>setMap<span class="signature">(map)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Sets the map for the library to track.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>map</code></td>
            

            <td class="type">
            
                
<span class="param-type">Map</span>


            
            </td>

            

            

            <td class="description last">The new map where the library will draw the routes.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line313">line 313</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="setPruneLevel"><span class="type-signature"></span>setPruneLevel<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Sets the current prunning level of the library. There are three possible levels to prune: NO_PRUNNING, MODERATE_PRUNNING and AGGRESSIVE_PRUNNING.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line294">line 294</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
            

    

    <h4 class="name" id="showPaths"><span class="type-signature"></span>showPaths<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    Shows all the paths on the map the library is tracking.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="PathDrawer.js.html">PathDrawer.js</a>, <a href="PathDrawer.js.html#line255">line 255</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="MarkerLabelLib.html">MarkerLabelLib</a></li><li><a href="MarkerTracker.html">MarkerTracker</a></li><li><a href="PathDrawer.html">PathDrawer</a></li><li><a href="PrivateNameSpace.html">PrivateNameSpace</a></li></ul><h3>Global</h3><ul><li><a href="global.html#createMarker">createMarker</a></li><li><a href="global.html#deleteAllMarkers">deleteAllMarkers</a></li><li><a href="global.html#INITIAL_ZOOM">INITIAL_ZOOM</a></li><li><a href="global.html#initMap">initMap</a></li><li><a href="global.html#initSearchBox">initSearchBox</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#markerLabels">markerLabels</a></li><li><a href="global.html#markerLib">markerLib</a></li><li><a href="global.html#pathDrawer">pathDrawer</a></li><li><a href="global.html#PORTUGAL_LOC">PORTUGAL_LOC</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Fri Jul 01 2016 10:07:34 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>